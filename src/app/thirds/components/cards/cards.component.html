<div class="m-subheader" appunwraptag="">
  <div class="d-flex align-items-center">
    <div class="siam-page-header">
      <a class="siam-header-back-btn" routerLink="/tiers/liste"><i class="fa fa-angle-left"></i> Tableau de bord</a>
      <h2>Liste des Cartes</h2>
    </div>

  </div>
</div>

<div class="m-content">
  <div class="m-portlet m-portlet--bordered-semi m-portlet--full-height m-portlet--rounded ">
    <div class="m-portlet__body m-portlet__body--no-padding">

      <div class="m-portlet__head">
        <div class="m-portlet__head-tools">
          <div class="buttons">
            <dx-select-box id="select-prefix"
                           [dataSource]="[
                      {name: 'Activate', action: 'activate'},
                      {name: 'Deactivate', action: 'deactivate'}
                      ]"
                           placeholder= "Select action"
                           displayExpr="name"
                           valueExpr="action"
                           (onValueChanged)="selectAction($event)">
            </dx-select-box>
            <dx-button
              text="Appliquer"
              [disabled]="!selectedItems?.length || !action"
              (onClick)="doAction($event)">
            </dx-button>
          </div>
        </div>

      </div>

    <dx-data-grid
  id="gridContainer"
  [dataSource]="cards"
  [columnHidingEnabled]="true"
  [allowColumnReordering]="true"
  [(selectedRowKeys)]="selectedItems"
  [remoteOperations]="{ groupPaging: true }"
  (onEditingStart)="onStartEdit($event.data.id)"
  (onRowRemoving)="onRemoveThird($event.data.id)"
>

  <!--<dxo-state-storing [enabled]="true" type="localStorage" storageKey="storage"></dxo-state-storing>-->

  <dxo-remote-operations
    [sorting]="true"
    [paging]="true">
  </dxo-remote-operations>

  <dxo-selection mode="multiple"></dxo-selection>

  <dxo-sorting mode="multiple"></dxo-sorting>
  <dxo-filter-row
    [visible]="true" [applyFilter]="applyFilter"></dxo-filter-row>

  <dxo-header-filter [visible]="true"></dxo-header-filter>
  <dxo-export [enabled]="true" fileName="Tiers" [allowExportSelectedData]="true"></dxo-export>

  <dxo-pager
    [allowedPageSizes]="[5, 8, 15, 30]"
    [showInfo]="true"
    [showNavigationButtons]="true"
    [showPageSizeSelector]="true"
    [visible]="true">
  </dxo-pager>
  <dxo-paging [pageSize]="10"></dxo-paging>

  <dxo-column-chooser [enabled]="true" mode="select"></dxo-column-chooser>

  <dxo-search-panel [visible]="true"></dxo-search-panel>

  <dxo-group-panel [visible]="true"></dxo-group-panel>
  <dxo-grouping #expand [autoExpandAll]="true"></dxo-grouping>

  <dxi-column dataField="full_name" caption="Nom complet" i18n-caption>
  </dxi-column>
  <dxi-column dataField="cin" caption="CIN" i18n-caption>
  </dxi-column>
  <dxi-column dataField="perimeter" caption="Perimeter" i18n-caption>
  </dxi-column>
  <dxi-column dataField="cda" caption="CDA" i18n-caption>
  </dxi-column>
  <dxi-column dataField="status" caption="Status" i18n-caption>
  </dxi-column>
  <dxi-column dataField="zone" caption="Zone" i18n-caption>
  </dxi-column>
  <dxi-column dataField="sector" caption="Sector" i18n-caption>
  </dxi-column>
  <dxi-column dataField="block" caption="Block" i18n-caption>
  </dxi-column>
</dx-data-grid>
    </div>
  </div>
</div>
