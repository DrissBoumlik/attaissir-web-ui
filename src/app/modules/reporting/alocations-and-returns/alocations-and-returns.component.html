<dx-data-grid
        id="gridContainer"
        [dataSource]="alocations"
        showBorders="true"
        [columnHidingEnabled]="false"
        [allowColumnResizing]="false"
        [allowColumnReordering]="true"
        [columnAutoWidth]="true"
        [remoteOperations]="{ paging: true, sorting: true, filtering: true}"
        KeyExpr="id">

  <dxo-export [enabled]="true" fileName="allocations_retours" [excelFilterEnabled]="true"
              [allowExportSelectedData]="true"></dxo-export>

  <dxo-filter-row [visible]="true"></dxo-filter-row>
  <dxo-header-filter [visible]="true"></dxo-header-filter>

  <dxo-group-panel [visible]="true"></dxo-group-panel>
  <dxo-scrolling  [showScrollbar]="'always'"></dxo-scrolling>
  <dxo-editing
          mode="popup"
          [useIcons]="true"
          [allowDeleting]="false"
          [allowUpdating]="false"
  >
  </dxo-editing>
  <dxo-grouping [autoExpandAll]="false"></dxo-grouping>
  <dxo-selection mode="multiple"></dxo-selection>
  <dxo-header-filter [visible]="true"></dxo-header-filter>

  <dxo-pager
          [allowedPageSizes]="[5, 8, 15, 30]"
          [showInfo]="true"
          [showNavigationButtons]="true"
          [showPageSizeSelector]="true"
          [visible]="true">
  </dxo-pager>
  <dxo-paging [pageSize]="10"></dxo-paging>
  <dxo-column-chooser [enabled]="true" mode="select"></dxo-column-chooser>

  <dxi-column dataField="soa_id" dataType="number" caption="Réf préconisation" ></dxi-column>
  <dxi-column dataField="soa_quantity" dataType="number" caption="Quantité" ></dxi-column>
  <dxi-column dataField="bon_number"  dataType="text" caption="Numéro bon" ></dxi-column>
  <dxi-column dataField="bon_date" format="dd-MM-yyyy"   caption="Date bon" ></dxi-column>
  <dxi-column dataField="o_type" dataType="text" caption="Type" ></dxi-column>
  <dxi-column dataField="o_state" dataType="text" cellTemplate="statusTemplate" caption="État" ></dxi-column>
  <dxi-column dataField="a_name" dataType="text" caption="Aricle" ></dxi-column>
  <dxi-column dataField="a_code" dataType="text" caption="Code article" ></dxi-column>
  <dxi-column dataField="a_unite" dataType="text" caption="Unité" ></dxi-column>
  <dxi-column dataField="provider_name" dataType="text" caption="Fournisseur" ></dxi-column>
  <dxi-column dataField="a_category" dataType="text" caption="Famille" ></dxi-column>
  <dxi-column dataField="a_subcategory" dataType="text" caption="Sous-famille" ></dxi-column>
  <dxi-column dataField="division" dataType="text" caption="Division" ></dxi-column>
  <dxi-column dataField="division_code" dataType="text" caption="Code division" ></dxi-column>
  <dxi-column dataField="cda" dataType="text" caption="CDA" ></dxi-column>
  <dxi-column dataField="cda_code" dataType="text" caption="CDA code" ></dxi-column>
  <dxi-column dataField="zone" dataType="text" caption="Zone" ></dxi-column>
  <dxi-column dataField="zone_code" dataType="text" caption="Code zone" ></dxi-column>
  <dxi-column dataField="p_name" dataType="text" caption="Parcelle" ></dxi-column>
  <dxi-column dataField="p_is" dataType="text" caption="Réf parcelle" ></dxi-column>
  <dxi-column dataField="tp_code" dataType="text" caption="Code agrégé" ></dxi-column>
  <dxi-column dataField="tp_name" dataType="text" caption="Nom agriculteur" ></dxi-column>
  <dxi-column dataField="tp_cin" dataType="text" caption="CIN" ></dxi-column>
  <div *dxTemplate="let data of 'statusTemplate'">
      <span [ngClass]="helper.getContractStatusClass(data.value)">
                  {{ data.value }}
      </span>
  </div>
</dx-data-grid>
