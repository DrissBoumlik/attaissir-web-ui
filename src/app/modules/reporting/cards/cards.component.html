<dx-data-grid
  id="gridContainer"
  [dataSource]="cards"
  [columnHidingEnabled]="false"
  [allowColumnReordering]="true"
  [columnAutoWidth]="true"
  [rowAlternationEnabled]="true"
  [remoteOperations]="{ paging: true, sorting: true, filtering: true}">

  <dxo-selection mode="multiple"></dxo-selection>
  <dxo-scrolling mode="standard" [showScrollbar]="'always'"></dxo-scrolling>
  <dxo-sorting mode="multiple"></dxo-sorting>
  <dxo-filter-row [visible]="true"></dxo-filter-row>
  <dxo-header-filter [visible]="true"></dxo-header-filter>
  <dxo-export [enabled]="true" fileName="cards_et_agreges" [allowExportSelectedData]="true"></dxo-export>
  <dxo-pager
    [allowedPageSizes]="[5, 8, 15, 30]"
    [showInfo]="true"
    [showNavigationButtons]="true"
    [showPageSizeSelector]="true"
    [visible]="true">
  </dxo-pager>
  <dxo-paging [pageSize]="10"></dxo-paging>

  <dxo-column-chooser [enabled]="true" mode="select"></dxo-column-chooser>

  <dxo-search-panel [visible]="true"></dxo-search-panel>

  <dxo-group-panel [visible]="true"></dxo-group-panel>
  <dxo-grouping #expand [autoExpandAll]="true"></dxo-grouping>

  <dxi-column dataField="structure_name" caption="Division">
  </dxi-column>
  <dxi-column dataField="cda" caption="CDA">
  </dxi-column>
  <dxi-column dataField="zone" caption="Zone">
  </dxi-column>
  <dxi-column dataField="sector" caption="Secteur">
  </dxi-column>
  <dxi-column dataField="block" caption="Bloc">
  </dxi-column>
  <dxi-column dataField="full_name" caption="Nom complet">
  </dxi-column>
  <dxi-column dataField="cin" caption="CIN">
  </dxi-column>
  <dxi-column dataField="code" caption="Code agrégé">
  </dxi-column>
  <dxi-column dataField="tel1" caption="Numéro de téléphone">
  </dxi-column>
  <dxi-column dataField="advisers" caption="Conseiller">
  </dxi-column>
  <dxi-column dataField="rfid" caption="Numéro de série de la carte">
  </dxi-column>
  <dxi-column dataField="Cardstatus" cellTemplate="statusTemplate" caption="Statut">
  </dxi-column>
  <dxi-column dataField="printed_at" cellTemplate="stateTemplate"  caption="Etat">
  </dxi-column>
  <dxi-column dataField="birth_date" caption="Date de naissance">
  </dxi-column>
  <dxi-column dataField="address" caption="Adresse">
  </dxi-column>
  <dxi-column dataField="rib" caption="RIB">
  </dxi-column>
  <div *dxTemplate="let data of 'statusTemplate'">
      <span [ngClass]="helper.getContractStatusClass(data.value)">
          {{ data.value }}
      </span>
  </div>
  <div *dxTemplate="let data of 'stateTemplate'">
      <span [ngClass]="data.value ? 'label label-success' : 'label label-info'">
          {{ data.value ? 'imprimée le ' + data.value : 'en cours de fabrication' }}
      </span>
  </div>
</dx-data-grid>
